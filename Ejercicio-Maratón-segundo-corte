from collections import Counter

t = int(input())
for _ in range(t):
    n = int(input())
    arr = list(map(int, input().split()))
    
    # Contar frecuencia de cada número
    freq = list(Counter(arr).values())
    
    # Buscar la longitud máxima posible de subsecuencia balanceada
    max_len = 0
    for f in freq:
        # suma de elementos con ocurrencias >= f
        curr_len = sum(min(c, f) for c in freq)
        max_len = max(max_len, curr_len)
    
    print(max_len)
